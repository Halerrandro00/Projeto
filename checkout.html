<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finalizar Compra - HRTZ tecnologias</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/products">HRTZ tecnologias</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/products">Produtos</a></li>
                    <li class="nav-item"><a class="nav-link" href="/cart">Carrinho (<span id="cart-count">0</span>)</a></li>
                    <span id="nav-auth-links"></span>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container mt-4">
        <div id="checkout-alert-placeholder"></div>
        <h1 class="mb-4">Finalizar Compra</h1>
        <div class="row g-5">
            <!-- Coluna do Formulário -->
            <div class="col-md-7 col-lg-8">
                <form id="checkout-form" novalidate>
                    <h4 class="mb-3">Endereço de Entrega</h4>
                    <div class="row g-3">
                        <div class="col-12">
                            <label for="address" class="form-label">Endereço</label>
                            <input type="text" class="form-control" id="address" placeholder="Rua, Av, etc..." required>
                            <div class="invalid-feedback">Por favor, insira seu endereço.</div>
                        </div>
                        <div class="col-md-6">
                            <label for="city" class="form-label">Cidade</label>
                            <input type="text" class="form-control" id="city" required>
                            <div class="invalid-feedback">Por favor, insira sua cidade.</div>
                        </div>
                        <div class="col-md-6">
                            <label for="postalCode" class="form-label">CEP</label>
                            <input type="text" class="form-control" id="postalCode" required>
                            <div class="invalid-feedback">Por favor, insira seu CEP.</div>
                        </div>
                    </div>

                    <hr class="my-4">

                    <h4 class="mb-3">Pagamento</h4>
                    <p class="text-muted">Esta é uma simulação. Não insira dados de cartão reais.</p>

                    <div class="my-3">
                        <div class="form-check">
                            <input id="credit" name="paymentMethod" type="radio" class="form-check-input" value="Cartão de Crédito" checked required>
                            <label class="form-check-label" for="credit">Cartão de Crédito</label>
                        </div>
                        <div class="form-check">
                            <input id="debit" name="paymentMethod" type="radio" class="form-check-input" value="Cartão de Débito" required>
                            <label class="form-check-label" for="debit">Cartão de Débito</label>
                        </div>
                        <div class="form-check">
                            <input id="pix" name="paymentMethod" type="radio" class="form-check-input" value="PIX" required>
                            <label class="form-check-label" for="pix">PIX</label>
                        </div>
                    </div>

                    <div id="card-payment-details">
                        <div class="row gy-3">
                            <div class="col-md-6">
                                <label for="cc-name" class="form-label">Nome no Cartão</label>
                                <input type="text" class="form-control" id="cc-name" placeholder="" required>
                                <small class="text-muted">Nome completo como exibido no cartão</small>
                                <div class="invalid-feedback">O nome no cartão é obrigatório.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="cc-number" class="form-label">Número do Cartão</label>
                                <input type="text" class="form-control" id="cc-number" placeholder="xxxx-xxxx-xxxx-xxxx" required>
                                <div class="invalid-feedback">O número do cartão é obrigatório.</div>
                            </div>
                            <div class="col-md-3">
                                <label for="cc-expiration" class="form-label">Validade</label>
                                <input type="text" class="form-control" id="cc-expiration" placeholder="MM/AA" required>
                                <div class="invalid-feedback">A data de validade é obrigatória.</div>
                            </div>
                            <div class="col-md-3">
                                <label for="cc-cvv" class="form-label">CVV</label>
                                <input type="text" class="form-control" id="cc-cvv" placeholder="xxx" required>
                                <div class="invalid-feedback">O código de segurança é obrigatório.</div>
                            </div>
                        </div>
                    </div>
                    <div id="pix-payment-details" class="d-none text-center border rounded p-3 mt-3 bg-light">
                        <p>Para pagar com PIX, escaneie o QR Code abaixo com o app do seu banco:</p>
                        <img src="       " alt="Exemplo de QR Code PIX" class="img-fluid" style="max-width: 250px;">
                        <p class="mt-2 text-muted"><small>Este é um QR Code de exemplo. O pedido será confirmado automaticamente após o pagamento.</small></p>
                    </div>

                    <hr class="my-4">

                    <button id="pay-btn" class="w-100 btn btn-primary btn-lg" type="submit">
                        Pagar e Finalizar Pedido
                    </button>
                </form>
            </div>

            <!-- Coluna do Resumo do Pedido -->
            <div class="col-md-5 col-lg-4 order-md-last">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="text-primary">Seu Pedido</span>
                    <span id="summary-item-count" class="badge bg-primary rounded-pill">0</span>
                </h4>
                <ul id="summary-items-list" class="list-group mb-3">
                    <!-- Itens do resumo serão inseridos aqui -->
                    <li class="list-group-item d-flex justify-content-between">
                        <span>Carregando...</span>
                    </li>
                </ul>
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal</span>
                            <span id="summary-subtotal">R$ 0.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <span>Frete</span>
                            <span>Grátis</span>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between fw-bold fs-5 mt-3">
                            <span>Total</span>
                            <span id="summary-total">R$ 0.00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="auth-nav.js"></script>
    <script src="checkout-app.js"></script>
</body>
</html>